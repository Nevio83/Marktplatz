<!DOCTYPE html>
<html lang="de">
<head>
  <!-- Start cookieyes banner --> <script id="cookieyes" type="text/javascript" src="https://cdn-cookieyes.com/client_data/8e12f1f6a93c31ea65a1052f/script.js"></script> <!-- End cookieyes banner -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0">
    <title>Marktplatz - Startseite</title>
    <meta name="description" content="Online-Marktplatz mit besten Angeboten">
    <meta name="keywords" content="ecommerce, online shopping, elektronik, mode">
    
    <!-- Stylesheets -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="styles.css?v=1.4" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-light bg-light shadow-sm">
      <div class="container-fluid nav-flex">
        <a class="navbar-brand fw-bold mb-0 h1" href="#">Marktplatz</a>
        <form class="search-form mx-auto">
          <div class="input-group">
            <input type="search" id="searchInput" class="form-control rounded-pill" placeholder="Suche...">
            <button class="btn btn-primary rounded-pill px-3" type="button" aria-label="Suchen" id="mobileSearchBtn">
              <i class="bi bi-search"></i>
            </button>
          </div>
        </form>
        <div class="nav-icons d-flex align-items-center gap-3">
          <a href="wishlist.html" id="wishlistButton" class="nav-icon-link">
            <i class="bi bi-heart" id="heartIcon"></i>
          </a>
          <a href="#" id="cartButton" class="nav-icon-link position-relative">
            <i class="bi bi-cart3"></i>
            <span id="cartCounter">0</span>
          </a>
          <!-- Warenkorb Dropdown -->
          <div class="cart-dropdown" id="cartDropdown">
            <div class="cart-dropdown-header">
              <h6 class="mb-0"><i class="bi bi-cart3"></i></h6>
              <button class="btn-close" id="closeCartDropdown" aria-label="Schließen">&times;</button>
            </div>
            <div class="cart-dropdown-body" id="cartDropdownBody">
              <div class="empty-cart text-center py-4" id="emptyCartMessage">
                <i class="bi bi-cart-x fs-1 text-muted"></i>
                <p class="text-muted mt-2">Ihr Warenkorb ist leer</p>
              </div>
            </div>
            <div class="cart-dropdown-footer" id="cartDropdownFooter" style="display: none;">
              <div class="d-flex justify-content-between align-items-center mb-3">
                <strong>Gesamt: €<span id="cartTotal">0.00</span></strong>
              </div>
              <div class="d-grid gap-2">
                <a href="cart.html" class="btn btn-primary">Zur Kasse</a>
                <button class="btn btn-outline-secondary" id="clearCart" aria-label="Warenkorb leeren">
                    <i class="bi bi-trash"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
    </nav>
<style>
@media (max-width: 600px) {
  .container-fluid.nav-flex {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }
  .nav-icons {
    margin-left: auto;
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 1.2rem;
  }
  .search-form {
    flex: 1 1 auto;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0 0.5rem;
    min-width: 0;
  }
}
</style>
<script>
// Mobile Suchfeld-Interaktion
function isMobile() {
  return window.innerWidth <= 600;
}
const searchInput = document.getElementById('searchInput');
const mobileSearchBtn = document.getElementById('mobileSearchBtn');
if (searchInput && mobileSearchBtn) {
  function showSearchField() {
    if (isMobile()) {
      searchInput.style.display = 'block';
      searchInput.style.width = '80vw';
      searchInput.focus();
      mobileSearchBtn.style.display = 'none';
    }
  }
  function hideSearchField() {
    if (isMobile()) {
      searchInput.style.display = 'none';
      searchInput.value = '';
      mobileSearchBtn.style.display = 'block';
    }
  }
  mobileSearchBtn.addEventListener('click', function(e) {
    e.preventDefault();
    showSearchField();
  });
  searchInput.addEventListener('blur', function() {
    setTimeout(hideSearchField, 150);
  });
  // Initialer Zustand
  if (isMobile()) {
    searchInput.style.display = 'none';
    mobileSearchBtn.style.display = 'block';
  }
}
</script>

    <!-- Main Content -->
    <main>
      
        <!-- Product Grid -->
        <section class="container my-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="fw-bold fs-1 mb-0">Unsere Kategorien</h2>
    <a href="#productGrid" class="btn btn-outline-dark px-4 py-2">Alle Produkte entdecken</a>
  </div>
  <div class="row g-4 category-grid">
    <div class="col-md-3">
      <a href="#" class="category-tile" data-category="Elektronik">
        <img src="produkt bilder/ware.png" alt="Elektronik" class="img-fluid rounded-4 w-100">
        <span class="category-label">Elektronik</span>
      </a>
    </div>
    <div class="col-md-3">
      <a href="#" class="category-tile" data-category="Mode">
        <img src="produkt bilder/ware.png" alt="Mode" class="img-fluid rounded-4 w-100">
        <span class="category-label">Mode</span>
      </a>
    </div>
    <div class="col-md-3">
      <a href="#" class="category-tile" data-category="Fitness">
        <img src="produkt bilder/ware.png" alt="Fitness" class="img-fluid rounded-4 w-100">
        <span class="category-label">Fitness</span>
      </a>
    </div>
    <div class="col-md-3">
      <a href="#" class="category-tile" data-category="Haushalt">
        <img src="produkt bilder/ware.png" alt="Haushalt" class="img-fluid rounded-4 w-100">
        <span class="category-label">Haushalt</span>
      </a>
    </div>
  </div>
</section>
        <div class="container mt-5">
            <div class="row mb-4">
                <div class="col-md-4">
                    <select class="form-select rounded-pill" id="categoryFilter">
                        <option>Alle Kategorien</option>
                        <option>Elektronik</option>
                        <option>Fitness</option>
                        <option>Mode</option>
                        <option>Haushalt</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <select class="form-select rounded-pill" id="priceSort">
                        <option>Aufsteigend</option>
                        <option>Absteigend</option>
                    </select>
                </div>
            </div>
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4" id="productGrid">
                <!-- Produktkarten werden hier dynamisch eingefügt -->
            </div>
            <template id="productTemplate">
                <div class="col">
                    <div class="product-card h-100">
                        <div class="product-image-container">
                            <img src="" alt="" class="product-image">
                            <button class="wishlist-btn" aria-label="Zur Wunschliste hinzufügen">
                                <i class="bi bi-heart"></i>
                            </button>
                        </div>
                        <div class="card-body d-flex flex-column">
                            <h3 class="card-title text-truncate"></h3>
                            <p class="card-text text-muted mb-3 flex-grow-1"></p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="h4 mb-0"></span>
                                <button class="btn btn-primary add-to-cart px-4 rounded-pill">
                                    <i class="bi bi-cart-plus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </template>
        </div>
</main>

    <!-- Footer -->
    <footer class="bg-dark text-white mt-5 pt-5">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-4">
                    <h5 class="mb-3">Über uns</h5>
                    <p class="text-muted">Ihr vertrauenswürdiger Online-Marktplatz seit 2024.</p>
                    <div class="social-icons">
                        <a href="#" class="text-white me-3" aria-label="Facebook"><i class="bi bi-facebook"></i></a>
                        <a href="#" class="text-white me-3" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
                        <a href="#" class="text-white" aria-label="Twitter"><i class="bi bi-twitter-x"></i></a>
                    </div>
                </div>
                <div class="col-md-2">
                    <h5 class="mb-3">Einkaufen</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white text-decoration-none">Angebote</a></li>
                        <li><a href="#" class="text-white text-decoration-none">Neue Produkte</a></li>
                        <li><a href="#" class="text-white text-decoration-none">Kategorien</a></li>
                    </ul>
                </div>
                <div class="col-md-2">
                    <h5 class="mb-3">Support</h5>
                    <ul class="list-unstyled">
                        <li><a href="kontakt.html" class="text-white text-decoration-none">Kontakt</a></li>
                        <li><a href="versand.html" class="text-white text-decoration-none">Versand</a></li>
                        <li><a href="retouren.html" class="text-white text-decoration-none">Retouren</a></li>
                    </ul>
                </div>
            </div>
            <div class="text-center py-4 text-muted">
                © 2024 Marktplatz - Alle Rechte vorbehalten
            </div>
        </div>
    </footer>
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="app.js"></script>

    <script>
      // Sanfter Cache-Breaker ohne automatisches Neuladen
      console.log('Cache-Breaker aktiviert (sanft)...');
      
      // CSS mit Zeitstempel neu laden, aber ohne Seiten-Reload
      const links = document.querySelectorAll('link[rel="stylesheet"]');
      links.forEach(link => {
        const href = link.getAttribute('href');
        if (href && href.includes('styles.css')) {
          const timestamp = Date.now();
          const newHref = href.split('?')[0] + '?v=' + timestamp;
          console.log('Neue CSS-URL:', newHref);
          link.setAttribute('href', newHref);
        }
      });
      
      // Optional: Caches löschen, aber ohne Neuladen
      if ('caches' in window) {
        caches.keys().then(function(names) {
          console.log('Lösche Caches:', names);
          for (let name of names) caches.delete(name);
        });
      }
    </script>
    <!-- Nach oben Button -->
    <button id="scrollToTopBtn" aria-label="Nach oben" style="display:none; position:fixed; bottom:30px; left:30px; z-index:9998; width:56px; height:56px; border-radius:50%; background:linear-gradient(135deg,#667eea,#764ba2); color:#fff; border:none; box-shadow:0 4px 16px rgba(102,126,234,0.18); font-size:2rem; display:flex; align-items:center; justify-content:center; transition:background 0.2s, box-shadow 0.2s; cursor:pointer;">
      <span style="display:flex; align-items:center; justify-content:center; width:100%; height:100%;"><i class="bi bi-arrow-up"></i></span>
    </button>
    <script>
      const scrollToTopBtn = document.getElementById('scrollToTopBtn');
      window.addEventListener('scroll', () => {
        if (window.scrollY > 300) {
          scrollToTopBtn.classList.add('show');
        } else {
          scrollToTopBtn.classList.remove('show');
        }
      });
      scrollToTopBtn.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    </script>

<!-- Hilfe-Button und Panel (ultra-modernes Design) -->
<div id="hilfeButton" aria-label="Hilfe öffnen" style="display: flex !important; visibility: visible !important; opacity: 1 !important;">
  <!-- Icon wird jetzt über CSS ::after pseudo-element angezeigt -->
</div>
<div id="hilfePanel" class="hilfe-panel">
  <!-- Lila Header für Hauptseite -->
  <div class="hilfe-panel-header" id="hilfePanelHeader">
    <i class="bi bi-question-circle"></i>
    <span>Hilfe & Support</span>
    <button id="hilfePanelClose" aria-label="Hilfe schließen">&times;</button>
  </div>
  
  <!-- Chatbot Interface -->
  <div id="chatbotInterface" class="chatbot-interface">
    <div class="chatbot-header">
      <i class="bi bi-arrow-left"></i>
      <span>Support </span>
    </div>
    
    <div class="chatbot-messages" id="chatbotMessages">
      <!-- Messages will be added here dynamically -->
    </div>
    
    <!-- Feedback Buttons (werden dynamisch hinzugefügt) -->
    <div id="feedbackButtons" class="feedback-buttons" style="display: none;">
      <button class="feedback-btn helpful-btn">
        <i class="bi bi-hand-thumbs-up"></i>
        Ja, das war hilfreich
      </button>
      <button class="feedback-btn not-helpful-btn">
        <i class="bi bi-hand-thumbs-down"></i>
        Nein, das war nicht hilfreich
      </button>
    </div>
  </div>
  
  <!-- Hilfe-Themen (wird ausgeblendet wenn Chatbot aktiv ist) -->
  <div id="hilfeThemen" class="hilfe-themen-modern">

    <button class="hilfe-thema-btn" data-topic="bestellung">Bestellung stornieren</button>
    <button class="hilfe-thema-btn" data-topic="versand">Versand & Lieferzeiten</button>
    <button class="hilfe-thema-btn" data-topic="rabattcodes">Mehrere Rabattcodes</button>
    <button class="hilfe-thema-btn" data-topic="kaeuferschutz">Was ist Käuferschutz?</button>
    <button class="hilfe-thema-btn" data-topic="adresse">Adresse ändern</button>
    <button class="hilfe-thema-btn" data-topic="zahlung">Zahlungsmethoden</button>
    <button class="hilfe-thema-btn" data-topic="konto">Konto & Profil</button>
  </div>
</div>
<script>
  // Debug: Prüfe ob Elemente gefunden werden
  console.log('Script lädt...');
  
  const hilfeButton = document.getElementById('hilfeButton');
  const hilfePanel = document.getElementById('hilfePanel');
  const hilfePanelClose = document.getElementById('hilfePanelClose');
  const hilfePanelHeader = document.getElementById('hilfePanelHeader');
  const chatbotInterface = document.getElementById('chatbotInterface');
  const hilfeThemen = document.getElementById('hilfeThemen');
  const chatbotMessages = document.getElementById('chatbotMessages');
  const backButton = document.querySelector('.chatbot-header .bi-arrow-left');
  
  console.log('hilfeButton:', hilfeButton);
  console.log('hilfePanel:', hilfePanel);
  
  // Hilfe-Button sofort sichtbar machen
  if (hilfeButton) {
    hilfeButton.style.display = 'flex';
    hilfeButton.style.visibility = 'visible';
    hilfeButton.style.opacity = '1';
    console.log('Hilfe-Button wurde sichtbar gemacht');
  }
  
  // Debug: Teste Panel-Sichtbarkeit
  if (hilfePanel) {
    console.log('Initial hilfePanel display:', window.getComputedStyle(hilfePanel).display);
    console.log('Initial hilfePanel visibility:', window.getComputedStyle(hilfePanel).visibility);
    console.log('Initial hilfePanel opacity:', window.getComputedStyle(hilfePanel).opacity);
  }
  
  // Einfacher Test für den Hilfe-Button
  if (hilfeButton) {
    hilfeButton.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      console.log('Hilfe-Button geklickt!');
      console.log('hilfePanel Element:', hilfePanel);
      console.log('hilfePanel Klassen vor Änderung:', hilfePanel.className);
      
      if (hilfePanel.classList.contains('offen')) {
        // Add closing animation
        hilfePanel.classList.add('closing');
        
        // Remove the panel after animation completes
        setTimeout(() => {
          hilfePanel.classList.remove('offen');
          hilfePanel.classList.remove('closing');
          document.body.classList.remove('help-panel-open');
          hideChatbot();
        }, 400); // Match the animation duration
        console.log('Panel geschlossen');
      } else {
        hilfePanel.classList.add('offen');
        document.body.classList.add('help-panel-open');
        console.log('Panel geöffnet');
        console.log('hilfePanel Klassen nach Änderung:', hilfePanel.className);
        console.log('hilfePanel Style:', window.getComputedStyle(hilfePanel).display);
        
        // Force visibility as backup
        hilfePanel.style.display = 'flex';
        hilfePanel.style.visibility = 'visible';
        hilfePanel.style.opacity = '1';
        hilfePanel.style.zIndex = '10001';
        hilfePanel.style.position = 'fixed';
        hilfePanel.style.top = '50%';
        hilfePanel.style.right = '20px';
        hilfePanel.style.transform = 'translateY(-50%) scale(1)';
        hilfePanel.style.width = '440px';
        hilfePanel.style.maxWidth = '95vw';
        hilfePanel.style.height = 'auto';
        hilfePanel.style.minHeight = '500px';
        hilfePanel.style.maxHeight = '650px';
      }
    });
  } else {
    console.error('hilfeButton nicht gefunden!');
  }
  
  // Vorgefertigte Antworten für verschiedene Themen
  const topicResponses = {

    bestellung: {
      question: "Bestellung stornieren",
      answer: "Sie können Ihre Bestellung innerhalb von 2 Stunden nach der Bestellung stornieren. Gehen Sie zu Ihren Bestellungen und klicken Sie auf 'Stornieren'. Nach 2 Stunden können Bestellungen nur noch über unseren Kundenservice storniert werden.",
      additionalInfo: "Für Stornierungen nach 2 Stunden kontaktieren Sie uns bitte telefonisch unter 0800-123456 oder per E-Mail an stornierung@marktplatz.de. Bitte haben Sie Ihre Bestellnummer bereit."
    },
    versand: {
      question: "Versand & Lieferzeiten",
      answer: "Standardversand: 3-5 Werktage. Expressversand: 1-2 Werktage. Kostenloser Versand ab 50€ Bestellwert. Tracking-Informationen erhalten Sie per E-Mail sobald Ihre Bestellung versendet wird.",
      additionalInfo: "Bei Verzögerungen kontaktieren Sie uns unter 0800-123456 oder versand@marktplatz.de. Wir können Ihnen dann den aktuellen Status Ihrer Bestellung mitteilen und bei Problemen helfen."
    },
    rabattcodes: {
      question: "Mehrere Rabattcodes",
      answer: "Sie können nur einen Rabattcode pro Bestellung verwenden. Der Code mit dem höchsten Rabatt wird automatisch angewendet. Kombinieren Sie Rabattcodes nicht mit anderen Aktionen.",
      additionalInfo: "Falls Ihr Rabattcode nicht funktioniert, prüfen Sie bitte das Ablaufdatum und die Bedingungen. Bei Problemen kontaktieren Sie uns unter rabatt@marktplatz.de oder 0800-123456."
    },
    kaeuferschutz: {
      question: "Was ist Käuferschutz?",
      answer: "Unser Käuferschutz garantiert Ihnen: 30 Tage Rückgaberecht, sichere Zahlung, Käuferschutz durch PayPal/Stripe, und 24/7 Kundenservice. Ihre Daten sind durch SSL-Verschlüsselung geschützt.",
      additionalInfo: "Bei Problemen mit dem Käuferschutz kontaktieren Sie uns unter sicherheit@marktplatz.de oder 0800-123456. Wir helfen Ihnen gerne weiter und können bei Bedarf auch eine Rückerstattung veranlassen."
    },
    adresse: {
      question: "Adresse ändern",
      answer: "Wenn Ihre Bestellung weniger als 90 Minuten alt ist, können Sie Ihre Lieferadresse, E-Mail oder andere persönliche Daten aktualisieren.",
      additionalInfo: "Bei Problemen mit der Adressänderung kontaktieren Sie uns unter adresse@marktplatz.de oder 0800-123456. Wir helfen Ihnen gerne weiter."
    },
    zahlung: {
      question: "Zahlungsmethoden",
      answer: "Wir akzeptieren: Kreditkarte, PayPal, SEPA-Lastschrift, Klarna (Kauf auf Rechnung), und Apple Pay/Google Pay. Alle Zahlungen sind sicher und verschlüsselt.",
      additionalInfo: "Bei Zahlungsproblemen kontaktieren Sie uns unter zahlung@marktplatz.de oder 0800-123456. Wir können Ihnen alternative Zahlungsmethoden vorschlagen oder bei technischen Problemen helfen."
    },
    konto: {
      question: "Konto & Profil",
      answer: "In Ihrem Konto können Sie: Bestellungen verfolgen, Adressen verwalten, Zahlungsmethoden speichern, Wunschlisten erstellen und E-Mail-Benachrichtigungen verwalten.",
      additionalInfo: "Bei Problemen mit Ihrem Konto oder wenn Sie Ihr Passwort vergessen haben, kontaktieren Sie uns unter konto@marktplatz.de oder 0800-123456. Wir helfen Ihnen gerne weiter."
    }
  };
  
  // Chatbot-Funktionen
  function showChatbot() {
    chatbotInterface.style.display = 'block';
    hilfeThemen.style.display = 'none';
    hilfePanelHeader.style.display = 'none'; // Verstecke lila Header
    
    // Aktiviere orange Farben für den Chatbot-Header sofort
    const chatbotHeader = document.querySelector('.chatbot-header');
    if (chatbotHeader) {
      chatbotHeader.classList.add('orange-support');
    }
    
    // Füge Willkommensnachricht hinzu (mit orange Klassen wenn aktiv)
    addWelcomeMessage();
  }
  
  function hideChatbot() {
    chatbotInterface.style.display = 'none';
    hilfeThemen.style.display = 'flex';
    hilfePanelHeader.style.display = 'flex'; // Zeige lila Header wieder
    chatbotMessages.innerHTML = '';
    
    // Deaktiviere orange Support-Farben
    deactivateOrangeSupport();
  }
  
  function addWelcomeMessage() {
    const orangeClass = window.orangeSupportActive ? 'orange-support' : '';
    const welcomeMessage = `
      <div class="chatbot-message bot-message">
        <div class="message-content">
          <div class="bot-avatar ${orangeClass}">
          </div>
          <div class="message-text ${orangeClass}">
            <p>Hallo! Ich bin Ihr Comfort Consultant Support EU. Wie kann ich Ihnen heute helfen?</p>
            <div class="quick-topics">
              <button class="quick-topic-btn ${orangeClass}" data-topic="adresse">Adresse ändern</button>
              <button class="quick-topic-btn ${orangeClass}" data-topic="bestellung">Bestellung stornieren</button>
              <button class="quick-topic-btn ${orangeClass}" data-topic="versand">Versand & Lieferzeiten</button>
            </div>
          </div>
        </div>
      </div>
    `;
    chatbotMessages.innerHTML = welcomeMessage;
  }
  
  function addUserMessage(message) {
    const orangeClass = window.orangeSupportActive ? 'orange-support' : '';
    const userMessage = `
      <div class="chatbot-message user-message">
        <div class="message-content">
          <div class="message-text ${orangeClass}">
            <p>${message}</p>
          </div>
        </div>
      </div>
    `;
    chatbotMessages.insertAdjacentHTML('beforeend', userMessage);
  }
  
  function addBotMessage(response, showFeedback = true) {
    const orangeClass = window.orangeSupportActive ? 'orange-support' : '';
    const botMessage = `
      <div class="chatbot-message bot-message">
        <div class="message-content">
          <div class="bot-avatar ${orangeClass}">
          </div>
          <div class="message-text ${orangeClass}">
            <p>${response.answer}</p>
          </div>
        </div>
      </div>
    `;
    chatbotMessages.insertAdjacentHTML('beforeend', botMessage);
    
    if (showFeedback) {
      showFeedbackButtons(response);
    }
  }
  
  function addAdditionalInfo(additionalInfo) {
    const orangeClass = window.orangeSupportActive ? 'orange-support' : '';
    const additionalMessage = `
      <div class="chatbot-message bot-message additional-info">
        <div class="message-content">
          <div class="bot-avatar ${orangeClass}">
          </div>
          <div class="message-text ${orangeClass}">
            <p><strong>Zusätzliche Informationen:</strong></p>
            <p>${additionalInfo}</p>
          </div>
        </div>
      </div>
    `;
    chatbotMessages.insertAdjacentHTML('beforeend', additionalMessage);
  }
  
  function showFeedbackButtons(response) {
    const feedbackButtons = document.getElementById('feedbackButtons');
    feedbackButtons.style.display = 'flex';
    
    // Event listeners für Feedback-Buttons
    const helpfulBtn = feedbackButtons.querySelector('.helpful-btn');
    const notHelpfulBtn = feedbackButtons.querySelector('.not-helpful-btn');
    
    // Entferne alte Event Listeners
    helpfulBtn.replaceWith(helpfulBtn.cloneNode(true));
    notHelpfulBtn.replaceWith(notHelpfulBtn.cloneNode(true));
    
    // Neue Event Listeners
    const newHelpfulBtn = feedbackButtons.querySelector('.helpful-btn');
    const newNotHelpfulBtn = feedbackButtons.querySelector('.not-helpful-btn');
    
    newHelpfulBtn.addEventListener('click', () => {
      addFeedbackMessage('Vielen Dank für Ihr Feedback! 👍 Das freut uns zu hören.');
      hideFeedbackButtons();
    });
    
    newNotHelpfulBtn.addEventListener('click', () => {
      addFeedbackMessage('Entschuldigung, dass die Antwort nicht hilfreich war. Hier sind weitere Informationen:');
      addAdditionalInfo(response.additionalInfo);
      hideFeedbackButtons();
    });
  }
  
  function hideFeedbackButtons() {
    const feedbackButtons = document.getElementById('feedbackButtons');
    feedbackButtons.style.display = 'none';
  }
  
  function addFeedbackMessage(message) {
    const orangeClass = window.orangeSupportActive ? 'orange-support' : '';
    const feedbackMessage = `
      <div class="chatbot-message bot-message feedback-message">
        <div class="message-content">
          <div class="bot-avatar ${orangeClass}">
          </div>
          <div class="message-text ${orangeClass}">
            <p>${message}</p>
          </div>
        </div>
      </div>
    `;
    chatbotMessages.insertAdjacentHTML('beforeend', feedbackMessage);
  }
  
  function handleTopicClick(topic) {
    const response = topicResponses[topic];
    if (response) {
      addUserMessage(response.question);
      setTimeout(() => {
        addBotMessage(response);
        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
      }, 500);
    }
  }
  
  function activateOrangeSupport() {
    // Füge orange Klassen zu den relevanten Elementen hinzu
    const hilfePanelHeader = document.getElementById('hilfePanelHeader');
    const chatbotHeader = document.querySelector('.chatbot-header');
    const messageTexts = document.querySelectorAll('.message-text');
    const botAvatars = document.querySelectorAll('.bot-avatar');
    const quickTopicBtns = document.querySelectorAll('.quick-topic-btn');
    const hilfeThemaBtns = document.querySelectorAll('.hilfe-thema-btn');
    
    if (hilfePanelHeader) {
      hilfePanelHeader.classList.add('orange-support');
    }
    if (chatbotHeader) {
      chatbotHeader.classList.add('orange-support');
    }
    
    // Füge orange Klassen zu allen Nachrichten und Avataren hinzu
    messageTexts.forEach(text => {
      text.classList.add('orange-support'); // Alle Nachrichten (Bot und Benutzer)
    });
    
    botAvatars.forEach(avatar => {
      avatar.classList.add('orange-support');
    });
    
    // Füge orange Klassen zu Quick Topic Buttons hinzu
    quickTopicBtns.forEach(btn => {
      btn.classList.add('orange-support');
    });
    
    // Füge orange Klassen zu Hilfe-Themen-Buttons hinzu
    hilfeThemaBtns.forEach(btn => {
      btn.classList.add('orange-support');
    });
    
    // Setze einen Flag, damit neue Nachrichten automatisch orange werden
    window.orangeSupportActive = true;
  }
  
  function deactivateOrangeSupport() {
    // Entferne orange Klassen von den relevanten Elementen
    const hilfePanelHeader = document.getElementById('hilfePanelHeader');
    const chatbotHeader = document.querySelector('.chatbot-header');
    const messageTexts = document.querySelectorAll('.message-text');
    const botAvatars = document.querySelectorAll('.bot-avatar');
    const quickTopicBtns = document.querySelectorAll('.quick-topic-btn');
    const hilfeThemaBtns = document.querySelectorAll('.hilfe-thema-btn');
    
    if (hilfePanelHeader) {
      hilfePanelHeader.classList.remove('orange-support');
    }
    if (chatbotHeader) {
      chatbotHeader.classList.remove('orange-support');
    }
    
    messageTexts.forEach(text => {
      text.classList.remove('orange-support');
    });
    
    botAvatars.forEach(avatar => {
      avatar.classList.remove('orange-support');
    });
    
    quickTopicBtns.forEach(btn => {
      btn.classList.remove('orange-support');
    });
    
    hilfeThemaBtns.forEach(btn => {
      btn.classList.remove('orange-support');
    });
    
    // Entferne den Flag
    window.orangeSupportActive = false;
  }
  
  // Event Listeners
  if (hilfePanelClose) {
    hilfePanelClose.addEventListener('click', () => {
      // Add closing animation
      hilfePanel.classList.add('closing');
      
      // Remove the panel after animation completes
              setTimeout(() => {
          hilfePanel.classList.remove('offen');
          hilfePanel.classList.remove('closing');
          document.body.classList.remove('help-panel-open');
          hideChatbot();
        }, 400); // Match the animation duration
    });
  }
  
  // Back button im Chatbot
  if (backButton) {
    backButton.addEventListener('click', () => {
      hideChatbot();
    });
  }
  
  // Hilfe-Themen Buttons
  document.querySelectorAll('.hilfe-thema-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const topic = btn.getAttribute('data-topic');
      // Aktiviere orange Farben sofort beim Klick
      activateOrangeSupport();
      showChatbot();
      setTimeout(() => {
        handleTopicClick(topic);
      }, 300);
    });
  });
  
  // Quick topic buttons (werden dynamisch erstellt)
  document.addEventListener('click', (e) => {
    if (e.target.classList.contains('quick-topic-btn')) {
      const topic = e.target.getAttribute('data-topic');
      // Aktiviere orange Support-Farben für Quick Topic Buttons
      activateOrangeSupport();
      handleTopicClick(topic);
    }
  });
  
  // Schließe das Panel beim Klick außerhalb
  document.addEventListener('mousedown', function(event) {
    if (
      hilfePanel.classList.contains('offen') &&
      !hilfePanel.contains(event.target) &&
      !hilfeButton.contains(event.target)
    ) {
      hilfePanel.classList.remove('offen');
      hideChatbot();
    }
  });
  
  console.log('Script geladen!');
</script>
<script>
  // Herz-Icon bei Hover füllen
  const heartIcon = document.getElementById('heartIcon');
  const wishlistButton = document.getElementById('wishlistButton');
  wishlistButton.addEventListener('mouseenter', () => {
    heartIcon.classList.remove('bi-heart');
    heartIcon.classList.add('bi-heart-fill');
  });
  wishlistButton.addEventListener('mouseleave', () => {
    heartIcon.classList.remove('bi-heart-fill');
    heartIcon.classList.add('bi-heart');
  });
</script>
<script>
  // Funktionalität für den Schließen-Knopf (X) im Warenkorb-Dropdown
  const closeCartDropdownButton = document.getElementById('closeCartDropdown');
  const cartDropdown = document.getElementById('cartDropdown');
  const hilfeBtnCart = document.getElementById('hilfeButton');
  const scrollBtnCart = document.getElementById('scrollToTopBtn');

  closeCartDropdownButton.addEventListener('click', () => {
    // Entfernt die 'show'-Klasse, um das Dropdown zu schließen.
    cartDropdown.classList.remove('show');
    // Zeige die Knöpfe wieder an
    if (hilfeBtnCart) {
      hilfeBtnCart.style.display = 'flex';
      hilfeBtnCart.style.visibility = 'visible';
      hilfeBtnCart.style.opacity = '1';
      hilfeBtnCart.style.zIndex = '1000';
      hilfeBtnCart.style.position = 'fixed';
      hilfeBtnCart.style.left = '';
      hilfeBtnCart.style.top = '';
      hilfeBtnCart.style.transform = '';
    }
    if (scrollBtnCart) {
      scrollBtnCart.style.display = 'flex';
      scrollBtnCart.style.visibility = 'visible';
      scrollBtnCart.style.opacity = '1';
      scrollBtnCart.style.zIndex = '1000';
      scrollBtnCart.style.position = 'fixed';
      scrollBtnCart.style.left = '';
      scrollBtnCart.style.top = '';
      scrollBtnCart.style.transform = '';
    }
    // Entferne Body-Scroll-Sperre
    document.body.classList.remove('cart-open');
  });
  
  // Verstecke Knöpfe wenn Warenkorb geöffnet wird
  document.getElementById('cartButton').addEventListener('click', () => {
    setTimeout(() => {
      if (cartDropdown.classList.contains('show')) {
        // Verstecke Knöpfe komplett
        if (hilfeBtnCart) {
          hilfeBtnCart.style.display = 'none';
          hilfeBtnCart.style.visibility = 'hidden';
          hilfeBtnCart.style.opacity = '0';
          hilfeBtnCart.style.zIndex = '-1';
          hilfeBtnCart.style.position = 'absolute';
          hilfeBtnCart.style.left = '-9999px';
          hilfeBtnCart.style.top = '-9999px';
          hilfeBtnCart.style.transform = 'translateX(-9999px)';
        }
        if (scrollBtnCart) {
          scrollBtnCart.style.display = 'none';
          scrollBtnCart.style.visibility = 'hidden';
          scrollBtnCart.style.opacity = '0';
          scrollBtnCart.style.zIndex = '-1';
          scrollBtnCart.style.position = 'absolute';
          scrollBtnCart.style.left = '-9999px';
          scrollBtnCart.style.top = '-9999px';
          scrollBtnCart.style.transform = 'translateX(-9999px)';
        }
        // Verhindere Scrollen auf dem Body
        document.body.classList.add('cart-open');
      }
    }, 100);
  });
</script>
<script>
// Suchfeld leeren, wenn auf eine Kategorie oder 'Alle Produkte entdecken' geklickt wird
function clearSearchInput() {
  var searchInput = document.getElementById('searchInput');
  if (searchInput) searchInput.value = '';
}
</script>

<!-- Scripts am Ende laden für bessere Performance -->
<script src="app.js"></script>
<script src="cart.js"></script>
</body>
</html>

